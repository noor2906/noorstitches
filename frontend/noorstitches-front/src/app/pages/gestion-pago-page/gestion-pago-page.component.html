<div class="container py-5 separacion-header-home">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <!-- Tarjeta de confirmación -->
      @if (this.penultimoPedido()?.estado === "completado") {
        <div class="card border-morado-intermedio-1 rounded-4 overflow-hidden">
          <!-- Cabecera con éxito -->
          <div class="card-header bg-morado-intermedio-1 text-center py-4">
            <div class="rounded-circle bg-blanco d-flex align-items-center justify-content-center mx-auto mb-3" 
                 style="width: 80px; height: 80px;">
              <mat-icon style="font-size: 40px; height: 40px; width: 40px; color: var(--morado-intermedio-1);">
                check_circle
              </mat-icon>
            </div>
            <h3 class="text-blanco bold mb-0">¡Compra Realizada con Éxito!</h3>
          </div>
          
          <!-- Contenido -->
          <div class="card-body p-4 p-md-5 text-center">
            <h4 class="text-morado-oscuro bold mb-4">Gracias por tu compra</h4>
            <p class="text-morado-oscuro mb-4">
              Hemos recibido tu pedido correctamente.
            </p>
            
            <!-- Detalles del pedido -->
            <div class="card bg-morado-claro border-0 rounded-3 p-3 mb-4">
              <div class="d-flex justify-content-between mb-2">
                <span class="text-morado-oscuro medium">Número de pedido:</span>
                <span class="text-morado-oscuro bold">{{ penultimoPedido()?.id }}</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-morado-oscuro medium">Fecha:</span>
                <span class="text-morado-oscuro">{{ penultimoPedido()?.fecha | date:'dd/MM/yyyy' }}</span>
              </div>
              <div class="d-flex justify-content-between">
                <span class="text-morado-oscuro medium">Total:</span>
                <span class="text-morado-intermedio-1 bold">{{ this.penultimoPedido()?.importe! | precioEuro }}</span>
              </div>
            </div>
            
            <p class="text-morado-oscuro mb-4">
              Estamos preparando tus productos con mucho cariño. Te notificaremos cuando tu pedido sea enviado.
            </p>
            
            <!-- Botones de acción -->
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center mt-4">
              <button class="btnSinIcono" style="width: auto; padding: 10px 20px;" [routerLink]="['/settings']">
                Ver mis pedidos
              </button>
              <button class="btnSinIcono" style="width: auto; padding: 10px 20px; background-color: var(--blanco); color: var(--morado-intermedio-1);" [routerLink]="['/tienda']">
                Seguir comprando
              </button>
            </div>
          </div>
        </div>
      } @else if (this.penultimoPedido()?.estado === "cancelado") {
        <div class="card border-rojo rounded-4 overflow-hidden">
          <!-- Cabecera con cancelación -->
          <div class="card-header bg-rojo text-center py-4">
            <div class="rounded-circle bg-blanco d-flex align-items-center justify-content-center mx-auto mb-3" 
                 style="width: 80px; height: 80px;">
              <mat-icon style="font-size: 40px; height: 40px; width: 40px; color: var(--rojo);">
                cancel
              </mat-icon>
            </div>
            <h3 class="text-black bold mb-0">Pedido Cancelado</h3>
          </div>
          
          <!-- Contenido -->
          <div class="card-body p-4 p-md-5 text-center">
            <h4 class="text-morado-oscuro bold mb-4">Tu pedido ha sido cancelado</h4>
            <p class="text-morado-oscuro mb-4">
              Lo sentimos, pero tu pedido ha sido cancelado. Si crees que se trata de un error o necesitas ayuda, no dudes en contactarnos.
            </p>
            
            <!-- Detalles del pedido -->
            <!-- @if (numeroPedido) { -->
              <div class="card bg-light border-0 rounded-3 p-3 mb-4">
                <div class="d-flex justify-content-between mb-2">
                  <span class="text-morado-oscuro medium">Número de pedido:</span>
                  <span class="text-morado-oscuro bold">{{ penultimoPedido()?.id }}</span>
                </div>
                <div class="d-flex justify-content-between">
                  <span class="text-morado-oscuro medium">Fecha:</span>
                  <span class="text-morado-oscuro">{{  penultimoPedido()?.fecha | date:'dd/MM/yyyy' }}</span>
                </div>
              </div>
            <!-- } -->
            
            <p class="text-morado-oscuro mb-4">
              Si tienes alguna pregunta sobre la cancelación, por favor contacta con nuestro servicio de atención al cliente.
            </p>
            
            <!-- Botones de acción -->
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center mt-4">
              <button class="btnSinIcono" style="width: auto; padding: 10px 20px;" [routerLink]="['/contactanos']">
                Contactar con nosotros
              </button>
              <button class="btnSinIcono" style="width: auto; padding: 10px 20px; background-color: var(--blanco); color: var(--morado-intermedio-1);" [routerLink]="['/tienda']">
                Volver a la tienda
              </button>
            </div>
          </div>
        </div>
      }
      
      <!-- Sección de ayuda -->
      <div class="card border-morado-intermedio-1 rounded-4 mt-4 p-4">
        <div class="card-body text-center">
          <h5 class="text-morado-oscuro bold mb-3">¿Necesitas ayuda?</h5>
          <p class="text-morado-oscuro mb-3">
            Si tienes alguna pregunta sobre tu pedido, no dudes en contactarnos.
          </p>
          <div class="d-flex justify-content-center gap-4">
            <div class="text-center">
              <div class="bg-morado-intermedio-1 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-2" 
                   style="width: 40px; height: 40px;">
                <mat-icon class="text-blanco">email</mat-icon>
              </div>
              <p class="text-morado-oscuro small mb-0">noorstitches&#64;gmail.com</p>
            </div>
            <div class="text-center">
              <div class="bg-morado-intermedio-1 rounded-circle d-flex align-items-center justify-content-center mx-auto mb-2" 
                   style="width: 40px; height: 40px;">
                <mat-icon class="text-blanco">phone</mat-icon>
              </div>
              <p class="text-morado-oscuro small mb-0">+34 912 345 678</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


